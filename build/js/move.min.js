
"use strict";var MoveTo=(function(){var defaults={tolerance:0,duration:800,easing:"easeOutQuart",container:window,callback:function callback(){},};function easeOutQuart(t,b,c,d){t/=d;t--;return-c*(t*t*t*t-1)+b;}
function mergeObject(obj1,obj2){var obj3={};Object.keys(obj1).forEach(function(propertyName){obj3[propertyName]=obj1[propertyName];});Object.keys(obj2).forEach(function(propertyName){obj3[propertyName]=obj2[propertyName];});return obj3;}
function kebabCase(val){return val.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase();});}
function countScrollTop(container){if(container instanceof HTMLElement){return container.scrollTop;}
return container.pageYOffset;}
function MoveTo(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var easeFunctions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.options=mergeObject(defaults,options);this.easeFunctions=mergeObject({easeOutQuart:easeOutQuart,},easeFunctions);}
MoveTo.prototype.registerTrigger=function(dom,callback){var _this=this;if(!dom){return;}
var href=dom.getAttribute("href")||dom.getAttribute("data-target");var target=href&&href!=="#"?document.getElementById(href.substring(1)):document.body;var options=mergeObject(this.options,_getOptionsFromTriggerDom(dom,this.options));if(typeof callback==="function"){options.callback=callback;}
var listener=function listener(e){e.preventDefault();_this.move(target,options);};dom.addEventListener("click",listener,false);return function(){return dom.removeEventListener("click",listener,false);};};MoveTo.prototype.move=function(target){var _this2=this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(target!==0&&!target){return;}
options=mergeObject(this.options,options);var distance=typeof target==="number"?target:target.getBoundingClientRect().top;var from=countScrollTop(options.container);var startTime=null;var lastYOffset;distance-=options.tolerance;var loop=function loop(currentTime){var currentYOffset=countScrollTop(_this2.options.container);if(!startTime){startTime=currentTime-1;}
var timeElapsed=currentTime-startTime;if(lastYOffset){if((distance>0&&lastYOffset>currentYOffset)||(distance<0&&lastYOffset<currentYOffset)){return options.callback(target);}}
lastYOffset=currentYOffset;var val=_this2.easeFunctions[options.easing](timeElapsed,from,distance,options.duration);options.container.scroll(0,val);if(timeElapsed<options.duration){window.requestAnimationFrame(loop);}else{options.container.scroll(0,distance+from);options.callback(target);}};window.requestAnimationFrame(loop);};MoveTo.prototype.addEaseFunction=function(name,fn){this.easeFunctions[name]=fn;};function _getOptionsFromTriggerDom(dom,options){var domOptions={};Object.keys(options).forEach(function(key){var value=dom.getAttribute("data-mt-".concat(kebabCase(key)));if(value){domOptions[key]=isNaN(value)?value:parseInt(value,10);}});return domOptions;}
return MoveTo;})();if(typeof module!=="undefined"){module.exports=MoveTo;}else{window.MoveTo=MoveTo;}